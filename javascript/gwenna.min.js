const headerLarge=document.querySelector('#home');const headerSlim=document.querySelector('#slim-nav');const menuSec=document.querySelector('.menu');const slides=document.getElementsByClassName('slides');const lazyImages=[].slice.call(document.getElementsByClassName("lazy"));let loaded=false;let slideIndex=1;let autoPlay;let playing=false;function readyPage(){document.querySelector('#open-menu').addEventListener("click",openSideMenu);document.querySelector('#close-menu').addEventListener("click",closeSideMenu);document.querySelector('.reveal-mail').addEventListener("click",revealEmail);$('header a').on("click",smoothScroll);const rellax=new Rellax('.rellax',{speed:-4.8,round:true,vertical:true,horizontal:false,wrapper:null});} function openSideMenu(){document.querySelector('#side-menu').style.width='150px';document.querySelector('#wrapper').style.marginRight='150px';} function closeSideMenu(){document.querySelector('#side-menu').style.width='0';document.querySelector('#wrapper').style.marginRight='0';} function checkScroll(e){const scrolls=window.scrollY;if(scrolls>(headerLarge.scrollHeight-100)&&headerLarge.classList.contains("reveal")){headerLarge.classList.toggle('reveal');headerSlim.classList.toggle('reveal');}else if(scrolls<(headerLarge.scrollHeight-100)&&!headerLarge.classList.contains("reveal")){headerLarge.classList.toggle('reveal');headerSlim.classList.toggle('reveal');} if(scrolls>menuSec.scrollHeight&&loaded===false){loaded=true;lazyImages.forEach((lazyImage)=>{lazyImage.src=lazyImage.dataset.src;});playSlides();}} let scrollTimeout;function scrollThrottler(){if(!scrollTimeout){scrollTimeout=setTimeout(function(){scrollTimeout=null;checkScroll();},200);}} function playSlides(){slideIndex++;showSlides(slideIndex);autoPlay=setTimeout(playSlides,3000);playing=true;} function showSlides(n){if(n>slides.length){slideIndex=1};if(n<1){slideIndex=slides.length};for(let x=0;x<slides.length;x++){slides[x].className=slides[x].className.replace("previous-slide","");slides[x].className=slides[x].className.replace("first-slide","previous-slide");slides[x].className=slides[x].className.replace("current-slide","previous-slide");} slides[slideIndex-1].classList.add('current-slide');} function smoothScroll(e){if(this.hash!==''){e.preventDefault();const hash=this.hash;$('html, body').animate({scrollTop:$(hash).offset().top},800);}} function revealEmail(){let reveal=document.querySelector(".reveal-mail");const a="<a hre",b='f="m',c='ailto: han',d='nah@gwenna',e='teahouse.com',f='">han',g='nah',h='@',i='gwennateahouse',j='.c',k='om</a>';reveal.innerHTML=a+b+c+d+e+f+g+h+i+j+k;reveal.style.border='none';} window.onload=readyPage();window.addEventListener("scroll",scrollThrottler);